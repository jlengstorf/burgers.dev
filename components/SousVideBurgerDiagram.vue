<template>
  <div class="burger-container">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 -30 1006.8 690"
      aria-labelledby="burgertitle"
      role="presentation"
    >
      <title id="burgertitle">Diagram of pieces of a burger</title>
      <g class="burgerlabel">
        <text
          transform="translate(0 142.3)"
          font-family="BebasNeueBold,Bebas Neue"
          font-size="48"
          fill="#fff"
        >
          Grill-seared,
          <tspan x="0" y="57.6">Perfectly cooked</tspan>
          <tspan x="0" y="115.2">Burger</tspan>
        </text>
      </g>
      <g class="letters">
        <g class="buns">
          <path
            class="cls-2"
            d="M753.3,394.8h5.5v3.9h-5.5V410H749V382.7h11.3v3.9h-7Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M771.4,410c-.1-.2-.1-.4-.2-.5s-.1-.4-.1-.6a2.2,2.2,0,0,1-.1-.9v-5.7a4.8,4.8,0,0,0-.7-2.7,2.7,2.7,0,0,0-2.1-.7h-1.5V410h-4.3V382.7h6.5q3.3,0,4.8,1.5a6.9,6.9,0,0,1,1.5,4.8v2.1c0,2.8-.9,4.7-2.8,5.5a4.1,4.1,0,0,1,2.3,2.2,9.9,9.9,0,0,1,.6,3.7v5.9a9.4,9.4,0,0,0,.4,1.6Zm-4.7-23.4V395h1.7a2.1,2.1,0,0,0,1.8-.7,2.6,2.6,0,0,0,.7-2.2v-2.7a3.4,3.4,0,0,0-.5-2.2,2.1,2.1,0,0,0-1.7-.6Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M782.4,394.2h5.8v3.9h-5.8v8h7.4V410H778.1V382.7h11.7v3.9h-7.4Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M791.9,389.2a7.3,7.3,0,0,1,1.6-5.1,7.3,7.3,0,0,1,9.4,0,7.3,7.3,0,0,1,1.6,5.1v.9h-4V389a2.9,2.9,0,0,0-.6-2.1,2.4,2.4,0,0,0-3.2,0,3.6,3.6,0,0,0-.5,2.1,4.8,4.8,0,0,0,.6,2.4,10.1,10.1,0,0,0,1.5,2.1l2.1,1.9a20.3,20.3,0,0,1,2,2.1,10.4,10.4,0,0,1,1.5,2.5,9,9,0,0,1,.6,3.4,7.3,7.3,0,0,1-1.6,5.1,5.8,5.8,0,0,1-4.7,1.8,6,6,0,0,1-4.8-1.8,7.3,7.3,0,0,1-1.6-5.1v-1.6h4v1.9a2.9,2.9,0,0,0,.6,2.1,2.3,2.3,0,0,0,1.6.6,2.5,2.5,0,0,0,1.7-.6,2.9,2.9,0,0,0,.6-2.1,5.2,5.2,0,0,0-.7-2.5,9.5,9.5,0,0,0-1.5-2l-2-1.9a19.9,19.9,0,0,1-2-2.1,8.7,8.7,0,0,1-2.2-6Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M811.3,410H807V382.7h4.3v11.7h4.9V382.7h4.3V410h-4.3V398.3h-4.9Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M836.2,382.7q3.3,0,4.8,1.5a6.9,6.9,0,0,1,1.5,4.8v.9a8.8,8.8,0,0,1-.6,3.5,4.5,4.5,0,0,1-2.1,2,4.3,4.3,0,0,1,2.4,2.2,8.1,8.1,0,0,1,.8,3.7v2.2a6.5,6.5,0,0,1-1.7,4.8,6.6,6.6,0,0,1-4.9,1.7h-6.7V382.7Zm-2.2,3.9v7.2h1.7a2.9,2.9,0,0,0,1.9-.6,3.3,3.3,0,0,0,.6-2.3v-1.5a3.4,3.4,0,0,0-.5-2.2,2,2,0,0,0-1.6-.6Zm0,11.1v8.4h2.4a2.2,2.2,0,0,0,1.7-.6,2.9,2.9,0,0,0,.6-2.1V401a3.5,3.5,0,0,0-.7-2.6,2.5,2.5,0,0,0-2.1-.7Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M859.4,410h-4.3l-.7-5h-5.3l-.8,5h-3.9l4.4-27.3h6.3Zm-9.8-8.7h4.2l-2.1-13.8Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M867,399.1l-1.3,2.5V410h-4.3V382.7h4.3v11.9l5.6-11.9h4.3l-6,12.1,6,15.2h-4.4Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M881.8,394.2h5.9v3.9h-5.9v8h7.5V410H877.6V382.7h11.7v3.9h-7.5Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M891.9,382.7h6.8a6.2,6.2,0,0,1,4.8,1.7c1.1,1.1,1.6,2.8,1.6,5v13.8a7.3,7.3,0,0,1-1.6,5.1,6.2,6.2,0,0,1-4.8,1.7h-6.8Zm4.3,3.9v19.5h2.4a2.1,2.1,0,0,0,1.6-.6,2.9,2.9,0,0,0,.6-2.1V389.2a2.7,2.7,0,0,0-.6-2,2.1,2.1,0,0,0-1.6-.6Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M755.4,429.5c2.3,0,3.9.5,4.9,1.5a6.9,6.9,0,0,1,1.5,4.8v.9a7.3,7.3,0,0,1-.7,3.5,3.8,3.8,0,0,1-2.1,2,4.6,4.6,0,0,1,2.5,2.2,8.2,8.2,0,0,1,.7,3.7v2.2a6.5,6.5,0,0,1-1.6,4.8,6.6,6.6,0,0,1-4.9,1.7H749V429.5Zm-2.1,3.9v7.2h1.6a2.7,2.7,0,0,0,1.9-.6,2.9,2.9,0,0,0,.7-2.3v-1.5a4.2,4.2,0,0,0-.5-2.2,2.2,2.2,0,0,0-1.7-.6Zm0,11.1v8.4h2.4a2.4,2.4,0,0,0,1.7-.6,3,3,0,0,0,.5-2.1v-2.4a4.1,4.1,0,0,0-.6-2.6,2.5,2.5,0,0,0-2.1-.7Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M768.9,429.5v21a2.9,2.9,0,0,0,.6,2.1,2.4,2.4,0,0,0,3.2,0,2.9,2.9,0,0,0,.6-2.1v-21h4.1v20.8a7.3,7.3,0,0,1-1.6,5.1,7.6,7.6,0,0,1-9.6,0,7.8,7.8,0,0,1-1.6-5.1V429.5Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M784.2,437v19.8h-3.9V429.5h5.4l4.4,16.3V429.5h3.8v27.3h-4.4Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M796.4,436a7.8,7.8,0,0,1,1.6-5.1,6.4,6.4,0,0,1,4.8-1.7,6.3,6.3,0,0,1,4.7,1.7,7.8,7.8,0,0,1,1.6,5.1v.9H805v-1.1a2.9,2.9,0,0,0-.6-2.1,1.9,1.9,0,0,0-1.5-.6,2.1,2.1,0,0,0-1.6.6,2.9,2.9,0,0,0-.6,2.1,4.8,4.8,0,0,0,.6,2.4,16.6,16.6,0,0,0,1.6,2.1l2,1.9a13.4,13.4,0,0,1,2,2.1,8.2,8.2,0,0,1,1.6,2.5,9,9,0,0,1,.6,3.4,7.3,7.3,0,0,1-1.6,5.1,7.3,7.3,0,0,1-9.6,0,7.8,7.8,0,0,1-1.6-5.1v-1.6h4.1v1.9a2.9,2.9,0,0,0,.6,2.1,2.4,2.4,0,0,0,3.2,0,2.9,2.9,0,0,0,.6-2.1,5.1,5.1,0,0,0-.6-2.5,7.4,7.4,0,0,0-1.6-2l-2-1.9a13.4,13.4,0,0,1-2-2.1,11,11,0,0,1-1.5-2.6A7.1,7.1,0,0,1,796.4,436Z"
            transform="translate(-17.9 -59.4)"
          />
        </g>
        <g class="veggies">
          <path
            class="cls-2"
            d="M86.5,496.8l3.3-22.2h4l-4.3,27.3H83.1l-4.2-27.3h4.4Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M100,486.1h5.9V490H100v8h7.4v3.9H95.7V474.6h11.7v3.9H100Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M116.5,486.6h6v8.7a7.3,7.3,0,0,1-1.6,5.1,6.2,6.2,0,0,1-4.8,1.8,5.8,5.8,0,0,1-4.7-1.8,7.3,7.3,0,0,1-1.7-5.1V481.1a7.3,7.3,0,0,1,1.7-5.1,5.8,5.8,0,0,1,4.7-1.8,6.2,6.2,0,0,1,4.8,1.8,7.3,7.3,0,0,1,1.6,5.1v2.7h-4v-3a2.9,2.9,0,0,0-.6-2.1,2.3,2.3,0,0,0-1.6-.6,2.4,2.4,0,0,0-1.7.6,2.9,2.9,0,0,0-.6,2.1v14.8a2.7,2.7,0,0,0,.6,2,2.4,2.4,0,0,0,1.7.6,2.3,2.3,0,0,0,1.6-.6,2.7,2.7,0,0,0,.6-2v-5.1h-2Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M129.6,486.1h5.9V490h-5.9v8H137v3.9H125.3V474.6H137v3.9h-7.4Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M138.4,474.6h13.3v3.9h-4.5v23.4h-4.3V478.5h-4.5Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M165.9,501.9h-4.3l-.7-5h-5.3l-.7,5h-4l4.4-27.3h6.3Zm-9.7-8.7h4.1l-2.1-13.8Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M174.4,474.6c2.2,0,3.9.5,4.9,1.5a6.6,6.6,0,0,1,1.5,4.7v1a8.7,8.7,0,0,1-.7,3.5,3.8,3.8,0,0,1-2.1,2,4.2,4.2,0,0,1,2.5,2.2,8.2,8.2,0,0,1,.7,3.7v2.2a6.9,6.9,0,0,1-1.6,4.8,6.8,6.8,0,0,1-4.9,1.7h-6.8V474.6Zm-2.2,3.9v7.2h1.7a2.5,2.5,0,0,0,1.9-.7,3,3,0,0,0,.7-2.2v-1.5a3.4,3.4,0,0,0-.6-2.2,2,2,0,0,0-1.6-.6Zm0,11.1V498h2.5a2,2,0,0,0,1.6-.6,2.9,2.9,0,0,0,.6-2.1v-2.4a3.9,3.9,0,0,0-.6-2.6,2.9,2.9,0,0,0-2.2-.7Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M183.8,474.6h4.3V498h7v3.9H183.8Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M201.3,486.1h5.9V490h-5.9v8h7.4v3.9H197V474.6h11.7v3.9h-7.4Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M210.8,481.1a7.3,7.3,0,0,1,1.6-5.1,5.8,5.8,0,0,1,4.7-1.8,6.2,6.2,0,0,1,4.8,1.8,7.8,7.8,0,0,1,1.5,5.1v.9h-4v-1.2a2.9,2.9,0,0,0-.6-2.1,2.1,2.1,0,0,0-1.6-.6,2.3,2.3,0,0,0-1.6.6,3.6,3.6,0,0,0-.5,2.1,4.9,4.9,0,0,0,.6,2.5,7.4,7.4,0,0,0,1.6,2,18,18,0,0,0,2,1.9l2,2.1a11,11,0,0,1,1.5,2.6,7.4,7.4,0,0,1,.7,3.4,7.8,7.8,0,0,1-1.6,5.1,7.3,7.3,0,0,1-9.6,0,7.3,7.3,0,0,1-1.6-5.1v-1.7h4v2a2.7,2.7,0,0,0,.6,2,2.4,2.4,0,0,0,1.7.6,2.3,2.3,0,0,0,1.6-.6,2.7,2.7,0,0,0,.6-2,4.9,4.9,0,0,0-.6-2.5,15.6,15.6,0,0,0-1.6-2,18,18,0,0,0-2-1.9l-2-2.1a11.3,11.3,0,0,1-1.6-2.6A9,9,0,0,1,210.8,481.1Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M225.7,501.9v-4.2h4.2v3.7l-1.9,4.4h-1.8l1.2-3.9Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M86.4,521.4a6.1,6.1,0,0,1,4.8,1.7c1.1,1.1,1.6,2.8,1.6,5v3.5a7.1,7.1,0,0,1-1.6,5.1,6.5,6.5,0,0,1-4.8,1.7h-2v10.3H80.1V521.4Zm-2,3.8v9.3h2a1.8,1.8,0,0,0,1.5-.6,2.5,2.5,0,0,0,.6-2v-4.1a2.7,2.7,0,0,0-.6-2,1.8,1.8,0,0,0-1.5-.6Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M95,521.4h4.3v27.3H95Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M114.8,538.5v3.6a7.3,7.3,0,0,1-1.6,5.1,7.3,7.3,0,0,1-9.6,0,7.8,7.8,0,0,1-1.6-5.1V527.9a7.8,7.8,0,0,1,1.6-5.1,7.3,7.3,0,0,1,9.6,0,7.3,7.3,0,0,1,1.6,5.1v2.7h-4v-3a2.9,2.9,0,0,0-.6-2.1,2.4,2.4,0,0,0-1.7-.6,2.3,2.3,0,0,0-1.6.6,2.9,2.9,0,0,0-.6,2.1v14.8a2.7,2.7,0,0,0,.6,2,2.3,2.3,0,0,0,1.6.6,2.4,2.4,0,0,0,1.7-.6,2.7,2.7,0,0,0,.6-2v-3.9Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M123,537.8l-1.3,2.5v8.4h-4.3V521.4h4.3v11.8l5.6-11.8h4.3l-5.9,12.1,5.9,15.2h-4.4Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M133.6,521.4h4.3v23.4h7v3.9H133.6Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M151.1,532.9H157v3.9h-5.9v8h7.4v3.9H146.8V521.4h11.7v3.8h-7.4Z"
            transform="translate(-17.9 -59.4)"
          />
          <path
            class="cls-2"
            d="M160.6,527.9a7.3,7.3,0,0,1,1.6-5.1,5.8,5.8,0,0,1,4.7-1.8,6.2,6.2,0,0,1,4.8,1.8,7.8,7.8,0,0,1,1.5,5.1v.9h-4v-1.2a2.9,2.9,0,0,0-.6-2.1,2.1,2.1,0,0,0-1.6-.6,1.9,1.9,0,0,0-1.5.6,2.9,2.9,0,0,0-.6,2.1,4.9,4.9,0,0,0,.6,2.5,7.4,7.4,0,0,0,1.6,2,18,18,0,0,0,2,1.9l2,2.1a16.4,16.4,0,0,1,1.6,2.6,9,9,0,0,1,.6,3.4,7.8,7.8,0,0,1-1.6,5.1,7.3,7.3,0,0,1-9.6,0,7.3,7.3,0,0,1-1.6-5.1v-1.7h4v2a2.7,2.7,0,0,0,.6,2,2.4,2.4,0,0,0,1.7.6,2.3,2.3,0,0,0,1.6-.6,2.7,2.7,0,0,0,.6-2,4.9,4.9,0,0,0-.6-2.5,15.6,15.6,0,0,0-1.6-2,18,18,0,0,0-2-1.9l-2-2.1a11.3,11.3,0,0,1-1.6-2.6A9,9,0,0,1,160.6,527.9Z"
            transform="translate(-17.9 -59.4)"
          />
        </g>
        <g class="cheese">
          <text
            transform="translate(729.5 189.2)"
            font-size="39"
            opacity=".94"
            font-family="BebasNeueBold,Bebas Neue"
            fill="#fff"
          >
            Cheese
          </text>
        </g>
        <g class="sauce">
          <text
            transform="translate(726.1 532.8)"
            font-size="39"
            font-family="BebasNeueBold,Bebas Neue"
            fill="#fff"
          >
            Sauce
          </text>
        </g>
      </g>
      <g class="lines">
        <path class="cls-10" d="M656.3 56.8L615.2 56.8" />
        <path class="cls-11" d="M656.3 608.9L656.3 56.8" />
        <path class="cls-11" d="M655.6 608.9L614.5 608.9" />
        <path class="cls-10" d="M328.6 156.8L297.9 156.8" />
        <path class="cls-10" d="M329.9 532.8L296.6 532.8" />
        <g opacity=".74">
          <path class="cls-10" d="M328.6 415.2L297.9 415.2" />
          <path class="cls-10" d="M297.9 156.8L297.9 532.8" />
          <path class="cls-10" d="M296.6 462L208.9 462" />
        </g>
        <path class="cls-11" d="M656.3 339.7L709.4 339.7" />
        <g opacity=".64">
          <path class="cls-10" d="M621.4 239.7L689.7 239.7" />
          <path class="cls-10" d="M688.7 238.7L688.7 176" />
          <path class="cls-10" d="M687.7 176L714.3 176" />
        </g>
        <path class="cls-11" d="M609.1 564.7L677.5 564.7" />
        <path class="cls-11" d="M676.5 563.7L676.5 520.5" />
        <path class="cls-11" d="M676.5 520.5L703 520.5" />
        <path class="cls-10" d="M234.4 326L341.6 326" />
        <path class="cls-10" d="M234.9 326L234.9 232.8" />
        <path class="cls-10" d="M155.3 232.8L234.9 232.8" />
      </g>
      <g class="burgerimg">
        <image
          class="b7"
          width="500"
          height="143"
          transform="matrix(.62 0 0 .62 298.2 551.2)"
          xlink:href="/images/burger-7.png"
        />
        <image
          class="b6"
          width="500"
          height="213"
          transform="matrix(.62 0 0 .62 312.5 460.3)"
          xlink:href="/images/burger-6.png"
        />
        <image
          class="b5"
          width="500"
          height="179"
          transform="matrix(.62 0 0 .62 309.5 369.2)"
          xlink:href="/images/burger-5.png"
        />
        <image
          class="b4"
          width="500"
          height="205"
          transform="matrix(.61 0 0 .61 311.9 262.2)"
          xlink:href="/images/burger-4.png"
        />
        <image
          class="b3"
          width="500"
          height="166"
          transform="matrix(.61 0 0 .61 313.2 190.1)"
          xlink:href="/images/burger-3.png"
        />
        <image
          class="b2"
          width="500"
          height="283"
          transform="matrix(.62 0 0 .62 312.5 85.8)"
          xlink:href="/images/burger-2.png"
        />
        <image
          class="b1"
          width="500"
          height="219"
          transform="translate(309.9) scale(.61)"
          xlink:href="/images/burger-1.png"
        />
      </g>
    </svg>
  </div>
</template>

<script>
import gsap from 'gsap';

export default {
  methods: {
    pathAnim(node) {
      const path = document.querySelectorAll(node);
      const lineLengthArr = Array.from(path, (line) => line.getTotalLength());

      path.forEach((el, i) => {
        gsap.set(el, {
          strokeDashoffset: lineLengthArr[i],
          strokeDasharray: lineLengthArr[i],
        });
      });

      gsap.to(path, 0.5, {
        strokeDashoffset: 0,
        delay: 1,
      });
    },
    burgerIntro() {
      gsap.set('.burgerimg image, .letters g, .burgerlabel', {
        transformOrigin: '50% 50%',
      });

      gsap
        .timeline({
          defaults: {
            ease: 'elastic.out(1, 0.75)',
            duration: 1.25,
            delay: 0.5,
            scale: 0.5,
            opacity: 0,
          },
        })
        .add('start')
        .from(
          '.b1',
          {
            rotation: -10,
            y: 170,
          },
          'start',
        )
        .from(
          '.b2',
          {
            rotation: -20,
            y: 200,
          },
          'start+=0.05',
        )
        .from(
          '.b3',
          {
            rotation: -10,
            y: 250,
          },
          'start+=0.1',
        )
        .from(
          '.b4',
          {
            rotation: -5,
            y: 300,
          },
          'start+=0.15',
        )
        .from(
          '.b5',
          {
            y: 350,
          },
          'start+=0.2',
        )
        .from(
          '.b6',
          {
            y: 370,
          },
          'start+=0.25',
        )
        .from(
          '.b7',
          {
            rotation: -10,
            y: 430,
          },
          'start+=0.3',
        )
        .from(
          '.cheese',
          {
            scale: 0.9,
            ease: 'sine',
          },
          'start+=1',
        )
        .from(
          '.buns',
          {
            scale: 0.9,
            ease: 'sine',
          },
          'start+=1.1',
        )
        .from(
          '.sauce',
          {
            scale: 0.9,
            ease: 'sine',
          },
          'start+=1.2',
        )
        .from(
          '.veggies',
          {
            scale: 0.9,
            ease: 'sine',
          },
          'start+=1.3',
        )
        .from(
          '.burgerlabel',
          {
            scale: 0.9,
            ease: 'sine',
          },
          'start+=1.6',
        );
    },
  },
  mounted() {
    this.burgerIntro();
    this.pathAnim('.lines path');
  },
};
</script>

<style lang="scss" scoped>
.burger-container {
  position: relative;
  width: 100%;
  padding: 6vh 3vw;
  background: linear-gradient(
    179deg,
    #000 0%,
    #755427 25%,
    #755427 75%,
    #000 100%
  );
  background-repeat: no-repeat;
  background-size: cover;
}

.cls-2 {
  fill: #fff;
}
.cls-10,
.cls-11 {
  fill: none;
  stroke: #fff;
  stroke-miterlimit: 10;
  stroke-width: 2px;
}
.cls-11 {
  opacity: 0.72;
}

svg {
  width: 100%;
}
</style>
